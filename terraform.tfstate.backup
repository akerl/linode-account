{
    "version": 3,
    "terraform_version": "0.11.14",
    "serial": 78,
    "lineage": "142a6ab7-53ac-02fe-3a43-6930a1c7b8f9",
    "modules": [
        {
            "path": [
                "root"
            ],
            "outputs": {
                "codepad_address": {
                    "sensitive": false,
                    "type": "string",
                    "value": "45.33.89.23"
                },
                "gray-vpn-address": {
                    "sensitive": false,
                    "type": "string",
                    "value": "213.219.38.53"
                },
                "purple-vpn-address": {
                    "sensitive": false,
                    "type": "string",
                    "value": "172.104.162.61"
                }
            },
            "resources": {
                "data.linode_profile.profile": {
                    "type": "linode_profile",
                    "depends_on": [],
                    "primary": {
                        "id": "770937",
                        "attributes": {
                            "authorized_keys.#": "1",
                            "authorized_keys.0": "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIPrm9UdL04EOBdgpluugFsai+PMIqF2tNmVH757JHH3I akerl@bean",
                            "email": "me@lesaker.org",
                            "email_notifications": "true",
                            "id": "770937",
                            "ip_whitelist_enabled": "false",
                            "lish_auth_method": "disabled",
                            "referrals.#": "1",
                            "referrals.0.code": "f227109176ce87940f3b9697940a0fa0472c4b43",
                            "referrals.0.completed": "0",
                            "referrals.0.credit": "0",
                            "referrals.0.pending": "0",
                            "referrals.0.total": "0",
                            "referrals.0.url": "https://www.linode.com/?r=f227109176ce87940f3b9697940a0fa0472c4b43",
                            "restricted": "false",
                            "timezone": "US/Eastern",
                            "two_factor_auth": "true",
                            "username": "akerl"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.linode"
                },
                "linode_domain.wg": {
                    "type": "linode_domain",
                    "depends_on": [],
                    "primary": {
                        "id": "1219892",
                        "attributes": {
                            "description": "",
                            "domain": "wg.scrtybybscrty.org",
                            "expire_sec": "0",
                            "group": "",
                            "id": "1219892",
                            "master_ips.#": "0",
                            "refresh_sec": "0",
                            "retry_sec": "0",
                            "soa_email": "me@lesaker.org",
                            "status": "active",
                            "tags.#": "0",
                            "ttl_sec": "0",
                            "type": "master"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.linode"
                },
                "linode_domain_record.gray": {
                    "type": "linode_domain_record",
                    "depends_on": [
                        "linode_domain.wg",
                        "module.gray-vpn"
                    ],
                    "primary": {
                        "id": "12753967",
                        "attributes": {
                            "domain_id": "1219892",
                            "id": "12753967",
                            "name": "gray",
                            "port": "0",
                            "priority": "0",
                            "protocol": "",
                            "record_type": "A",
                            "service": "",
                            "tag": "",
                            "target": "213.219.38.53",
                            "ttl_sec": "0",
                            "weight": "0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.linode"
                },
                "linode_domain_record.purple": {
                    "type": "linode_domain_record",
                    "depends_on": [
                        "linode_domain.wg",
                        "module.purple-vpn"
                    ],
                    "primary": {
                        "id": "13022117",
                        "attributes": {
                            "domain_id": "1219892",
                            "id": "13022117",
                            "name": "purple",
                            "port": "0",
                            "priority": "0",
                            "protocol": "",
                            "record_type": "A",
                            "service": "",
                            "tag": "",
                            "target": "172.104.162.61",
                            "ttl_sec": "0",
                            "weight": "0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.linode"
                },
                "linode_instance.codepad": {
                    "type": "linode_instance",
                    "depends_on": [
                        "data.external.ssh_key"
                    ],
                    "primary": {
                        "id": "12945190",
                        "attributes": {
                            "alerts.#": "1",
                            "alerts.0.cpu": "90",
                            "alerts.0.io": "10000",
                            "alerts.0.network_in": "10",
                            "alerts.0.network_out": "10",
                            "alerts.0.transfer_quota": "80",
                            "backups.#": "1",
                            "boot_config_label": "default",
                            "config.#": "1",
                            "config.0.comments": "",
                            "config.0.devices.#": "1",
                            "config.0.devices.0.sda.#": "1",
                            "config.0.devices.0.sda.0.disk_id": "27043787",
                            "config.0.devices.0.sda.0.disk_label": "root",
                            "config.0.devices.0.sda.0.volume_id": "0",
                            "config.0.devices.0.sdb.#": "0",
                            "config.0.devices.0.sdc.#": "0",
                            "config.0.devices.0.sdd.#": "0",
                            "config.0.devices.0.sde.#": "0",
                            "config.0.devices.0.sdf.#": "0",
                            "config.0.devices.0.sdg.#": "0",
                            "config.0.devices.0.sdh.#": "0",
                            "config.0.helpers.#": "1",
                            "config.0.helpers.0.devtmpfs_automount": "true",
                            "config.0.helpers.0.distro": "true",
                            "config.0.helpers.0.modules_dep": "true",
                            "config.0.helpers.0.network": "true",
                            "config.0.helpers.0.updatedb_disabled": "true",
                            "config.0.kernel": "linode/grub2",
                            "config.0.label": "default",
                            "config.0.memory_limit": "0",
                            "config.0.root_device": "/dev/root",
                            "config.0.run_level": "default",
                            "config.0.virt_mode": "paravirt",
                            "disk.#": "1",
                            "disk.0.authorized_keys.#": "0",
                            "disk.0.authorized_users.#": "0",
                            "disk.0.filesystem": "ext4",
                            "disk.0.id": "27043787",
                            "disk.0.image": "",
                            "disk.0.label": "root",
                            "disk.0.read_only": "false",
                            "disk.0.root_pass": "",
                            "disk.0.size": "102400",
                            "disk.0.stackscript_data.%": "0",
                            "disk.0.stackscript_id": "0",
                            "group": "",
                            "id": "12945190",
                            "ip_address": "45.33.89.23",
                            "ipv4.#": "1",
                            "ipv4.2169884593": "45.33.89.23",
                            "ipv6": "2600:3c03::f03c:91ff:feed:3aac/64",
                            "label": "codepad",
                            "private_ip": "false",
                            "region": "us-east",
                            "specs.#": "1",
                            "specs.0.disk": "163840",
                            "specs.0.memory": "8192",
                            "specs.0.transfer": "5000",
                            "specs.0.vcpus": "4",
                            "status": "running",
                            "swap_size": "0",
                            "tags.#": "0",
                            "type": "g6-standard-4",
                            "watchdog_enabled": "true"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 600000000000,
                                "delete": 600000000000,
                                "update": 1200000000000
                            }
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.linode"
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "gray-vpn"
            ],
            "outputs": {
                "ip_address": {
                    "sensitive": false,
                    "type": "string",
                    "value": "213.219.38.53"
                }
            },
            "resources": {
                "linode_instance.vpn": {
                    "type": "linode_instance",
                    "depends_on": [],
                    "primary": {
                        "id": "13855405",
                        "attributes": {
                            "alerts.#": "1",
                            "alerts.0.cpu": "90",
                            "alerts.0.io": "10000",
                            "alerts.0.network_in": "10",
                            "alerts.0.network_out": "10",
                            "alerts.0.transfer_quota": "80",
                            "backups.#": "1",
                            "boot_config_label": "default",
                            "config.#": "1",
                            "config.0.comments": "",
                            "config.0.devices.#": "1",
                            "config.0.devices.0.sda.#": "1",
                            "config.0.devices.0.sda.0.disk_id": "28849756",
                            "config.0.devices.0.sda.0.disk_label": "root",
                            "config.0.devices.0.sda.0.volume_id": "0",
                            "config.0.devices.0.sdb.#": "0",
                            "config.0.devices.0.sdc.#": "0",
                            "config.0.devices.0.sdd.#": "0",
                            "config.0.devices.0.sde.#": "0",
                            "config.0.devices.0.sdf.#": "0",
                            "config.0.devices.0.sdg.#": "0",
                            "config.0.devices.0.sdh.#": "0",
                            "config.0.helpers.#": "1",
                            "config.0.helpers.0.devtmpfs_automount": "true",
                            "config.0.helpers.0.distro": "true",
                            "config.0.helpers.0.modules_dep": "true",
                            "config.0.helpers.0.network": "true",
                            "config.0.helpers.0.updatedb_disabled": "true",
                            "config.0.kernel": "linode/grub2",
                            "config.0.label": "default",
                            "config.0.memory_limit": "0",
                            "config.0.root_device": "/dev/root",
                            "config.0.run_level": "default",
                            "config.0.virt_mode": "paravirt",
                            "disk.#": "1",
                            "disk.0.authorized_keys.#": "0",
                            "disk.0.authorized_users.#": "0",
                            "disk.0.filesystem": "ext4",
                            "disk.0.id": "28849756",
                            "disk.0.image": "",
                            "disk.0.label": "root",
                            "disk.0.read_only": "false",
                            "disk.0.root_pass": "",
                            "disk.0.size": "10240",
                            "disk.0.stackscript_data.%": "0",
                            "disk.0.stackscript_id": "0",
                            "group": "",
                            "id": "13855405",
                            "ip_address": "213.219.38.53",
                            "ipv4.#": "1",
                            "ipv4.2456810612": "213.219.38.53",
                            "ipv6": "2a01:7e00::f03c:91ff:fe8d:4244/64",
                            "label": "gray-wg",
                            "private_ip": "false",
                            "region": "eu-west",
                            "specs.#": "1",
                            "specs.0.disk": "51200",
                            "specs.0.memory": "2048",
                            "specs.0.transfer": "2000",
                            "specs.0.vcpus": "1",
                            "status": "running",
                            "swap_size": "0",
                            "tags.#": "0",
                            "type": "g6-standard-1",
                            "watchdog_enabled": "true"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 600000000000,
                                "delete": 600000000000,
                                "update": 1200000000000
                            }
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.linode"
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "purple-vpn"
            ],
            "outputs": {
                "ip_address": {
                    "sensitive": false,
                    "type": "string",
                    "value": "172.104.162.61"
                }
            },
            "resources": {
                "linode_instance.vpn": {
                    "type": "linode_instance",
                    "depends_on": [],
                    "primary": {
                        "id": "14543207",
                        "attributes": {
                            "alerts.#": "1",
                            "alerts.0.cpu": "90",
                            "alerts.0.io": "10000",
                            "alerts.0.network_in": "10",
                            "alerts.0.network_out": "10",
                            "alerts.0.transfer_quota": "80",
                            "backups.#": "1",
                            "boot_config_label": "default",
                            "config.#": "1",
                            "config.0.comments": "",
                            "config.0.devices.#": "1",
                            "config.0.devices.0.sda.#": "1",
                            "config.0.devices.0.sda.0.disk_id": "30179030",
                            "config.0.devices.0.sda.0.disk_label": "root",
                            "config.0.devices.0.sda.0.volume_id": "0",
                            "config.0.devices.0.sdb.#": "0",
                            "config.0.devices.0.sdc.#": "0",
                            "config.0.devices.0.sdd.#": "0",
                            "config.0.devices.0.sde.#": "0",
                            "config.0.devices.0.sdf.#": "0",
                            "config.0.devices.0.sdg.#": "0",
                            "config.0.devices.0.sdh.#": "0",
                            "config.0.helpers.#": "1",
                            "config.0.helpers.0.devtmpfs_automount": "true",
                            "config.0.helpers.0.distro": "true",
                            "config.0.helpers.0.modules_dep": "true",
                            "config.0.helpers.0.network": "true",
                            "config.0.helpers.0.updatedb_disabled": "true",
                            "config.0.kernel": "linode/grub2",
                            "config.0.label": "default",
                            "config.0.memory_limit": "0",
                            "config.0.root_device": "/dev/root",
                            "config.0.run_level": "default",
                            "config.0.virt_mode": "paravirt",
                            "disk.#": "1",
                            "disk.0.authorized_keys.#": "0",
                            "disk.0.authorized_users.#": "0",
                            "disk.0.filesystem": "ext4",
                            "disk.0.id": "30179030",
                            "disk.0.image": "",
                            "disk.0.label": "root",
                            "disk.0.read_only": "false",
                            "disk.0.root_pass": "",
                            "disk.0.size": "10240",
                            "disk.0.stackscript_data.%": "0",
                            "disk.0.stackscript_id": "0",
                            "group": "",
                            "id": "14543207",
                            "ip_address": "172.104.162.61",
                            "ipv4.#": "1",
                            "ipv4.4094443135": "172.104.162.61",
                            "ipv6": "2400:8901::f03c:91ff:fe02:60c0/64",
                            "label": "purple-wg",
                            "private_ip": "false",
                            "region": "ap-south",
                            "specs.#": "1",
                            "specs.0.disk": "51200",
                            "specs.0.memory": "2048",
                            "specs.0.transfer": "2000",
                            "specs.0.vcpus": "1",
                            "status": "running",
                            "swap_size": "0",
                            "tags.#": "0",
                            "type": "g6-standard-1",
                            "watchdog_enabled": "true"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 600000000000,
                                "delete": 600000000000,
                                "update": 1200000000000
                            }
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.linode"
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "stackscript"
            ],
            "outputs": {
                "stackscript_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": "425349"
                }
            },
            "resources": {
                "linode_stackscript.this": {
                    "type": "linode_stackscript",
                    "depends_on": [],
                    "primary": {
                        "id": "425349",
                        "attributes": {
                            "created": "2019-05-03 14:59:51 +0000 UTC",
                            "deployments_active": "9",
                            "deployments_total": "8",
                            "description": "Deploy wireguard",
                            "id": "425349",
                            "images.#": "1",
                            "images.0": "linode/ubuntu18.04",
                            "is_public": "false",
                            "label": "deploy-wireguard",
                            "rev_note": "",
                            "script": "#!/usr/bin/env bash\n# \u003cUDF name=\"users\" Label=\"User list (comma-delimited)\" default=\"one,two,three,four\" /\u003e\n# \u003cUDF name=\"deploy_repo\" Label=\"Ansible deploy repo\" default=\"https://github.com/akerl/deploy-wireguard-server\" /\u003e\n\nset -euo pipefail\n\nfunction log() {\n    local msg=\"$(date '+%Y-%m-%d_%H:%M:%S') -- $1\"\n    echo \"$msg\" | tee -a /root/log\n}\n\nlog 'starting'\n\nexport DEBIAN_FRONTEND=noninteractive\n\nlog 'updating'\napt update\n\nlog 'upgrading'\napt upgrade -y\n\nlog 'installing deps'\napt install -y python3-pip python3-dev build-essential git vim-nox\n\nlog 'installing ansible'\npip3 install ansible\n\nlog 'cloning repo'\ngit clone \"$DEPLOY_REPO\" /opt/deploy\n\nlog 'writing user config'\necho \"users:\" \u003e /opt/deploy/users.cfg\nfor user in $(echo \"$USERS\" | sed 's/,/ /g'); do\n    echo \"- $user\" \u003e\u003e /opt/deploy/users.cfg\ndone\n\nfor playbook in linode/setup.yml main.yml ; do\n    log \"running $playbook\"\n    ansible-playbook \\\n        --inventory localhost, \\\n        --connection local \\\n        --extra-vars=user_config_file=/opt/deploy/users.cfg \\\n        --extra-vars=ansible_python_interpreter=/usr/bin/python3 \\\n        \"/opt/deploy/$playbook\"\ndone\n\nlog 'completed'\n",
                            "updated": "2019-05-03 19:42:11 +0000 UTC",
                            "user_defined_fields.#": "1",
                            "user_defined_fields.0.default": "one,two,three,four",
                            "user_defined_fields.0.example": "",
                            "user_defined_fields.0.label": "User list (comma-delimited)",
                            "user_defined_fields.0.many_of": "",
                            "user_defined_fields.0.name": "users",
                            "user_defined_fields.0.one_of": "",
                            "user_gravatar_id": "819691dc5c197c042ccd16b894545673",
                            "username": "akerl"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.linode"
                }
            },
            "depends_on": []
        }
    ]
}
